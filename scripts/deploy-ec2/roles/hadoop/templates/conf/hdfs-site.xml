<?xml version="1.0" encoding="UTF-8"?>

<!--Autogenerated by Cloudera CM on 2014-05-30T17:14:35.320Z-->
<configuration>
  <property>
    <name>dfs.permissions.enabled</name>
    <value>false</value>
  </property>
  <property>
    <name>dfs.namenode.servicerpc-address</name>
    <value>{{ hadoop_namenode }}:8022</value>
  </property>
  <property>
    <name>dfs.https.address</name>
    <value>{{ hadoop_namenode }}:50470</value>
  </property>
  <property>
    <name>dfs.https.port</name>
    <value>50470</value>
  </property>
  <property>
    <name>dfs.namenode.http-address</name>
    <value>{{ hadoop_namenode }}:50070</value>
  </property>
 <property>
    <name>dfs.namenode.name.dir</name>
    <value>file:/var/hadoop-hdfs/namenode</value>
  </property>
 <property>
    <name>dfs.datanode.data.dir</name>
    <value>{{ hdfs.volumes|map(attribute='mount')|join(',') }}</value>
  </property>
  <property>
    <name>dfs.replication</name>
    <value>{{ hdfs.replication }}</value>
  </property>
  <property>
    <name>dfs.blocksize</name>
    <value>134217728</value>
  </property>
  <property>
    <name>dfs.client.use.datanode.hostname</name>
    <value>false</value>
  </property>
  <property>
    <name>fs.permissions.umask-mode</name>
    <value>022</value>
  </property>
  <property>
    <name>dfs.client.read.shortcircuit</name>
    <value>false</value>
  </property>
  <property>
    <name>dfs.domain.socket.path</name>
    <value>/var/run/hdfs-sockets/dn</value>
  </property>
  <property>
    <name>dfs.client.read.shortcircuit.skip.checksum</name>
    <value>false</value>
  </property>
  <property>
    <name>dfs.client.domain.socket.data.traffic</name>
    <value>false</value>
  </property>
  <property>
    <name>dfs.datanode.hdfs-blocks-metadata.enabled</name>
    <value>true</value>
  </property>

  {% if "development" not in group_names %}
  <property>
    <name>fs.s3n.awsAccessKeyId</name>
    <value>{{ aws.key_id }}</value>
  </property>
  <property>
    <name>fs.s3n.awsSecretAccessKey</name>
    <value>{{ aws.key_secret }}</value>
  </property>
  {% endif %}
</configuration>
